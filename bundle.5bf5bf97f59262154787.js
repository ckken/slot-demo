(()=>{var t={138:(t,e,r)=>{var n={"./at_at.svg":773,"./c3po.svg":809,"./darth_vader.svg":916,"./death_star.svg":645,"./falcon.svg":67,"./r2d2.svg":918,"./stormtrooper.svg":952,"./tie_ln.svg":103,"./yoda.svg":677};function o(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id=138},773:(t,e,r)=>{"use strict";t.exports=r.p+"0379613a4269155f45b3.svg"},809:(t,e,r)=>{"use strict";t.exports=r.p+"92e4eecf1c83293e3395.svg"},916:(t,e,r)=>{"use strict";t.exports=r.p+"9ae79499243776a4de6e.svg"},645:(t,e,r)=>{"use strict";t.exports=r.p+"3392ebef20e51148368e.svg"},67:(t,e,r)=>{"use strict";t.exports=r.p+"b33cd68d7fb870c59309.svg"},918:(t,e,r)=>{"use strict";t.exports=r.p+"a97a2e9fa184dcab972b.svg"},952:(t,e,r)=>{"use strict";t.exports=r.p+"61e5b40f641dff097d3f.svg"},103:(t,e,r)=>{"use strict";t.exports=r.p+"7d600c80a7f5f31bc337.svg"},677:(t,e,r)=>{"use strict";t.exports=r.p+"4c0ad8f5f10199effb77.svg"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var r=function(e){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:r+""}var o={},i={},s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e}return n=t,s=[{key:"getImageSrc",value:function(t){return o[t]||(o[t]=r(138)("./".concat(t,".svg"))),o[t]}},{key:"preload",value:function(){t.symbols.forEach((function(e){var r=t.getImageSrc(e);if(!i[e]){var n=new Image;n.src=r,i[e]=n}}))}},{key:"symbols",get:function(){return["at_at","c3po","darth_vader","death_star","falcon","r2d2","stormtrooper","tie_ln","yoda"]}},{key:"random",value:function(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}],null&&e(n.prototype,null),s&&e(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,s}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var p=function(){return t=function t(e,r,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reelContainer=e,this.idx=r,this.strip=document.createElement("div"),this.strip.classList.add("icons"),this.reelContainer.appendChild(this.strip),this.totalSlots=3+this.extraSymbols,this.imgElements=[];for(var i=0;i<this.totalSlots;i++){var a=document.createElement("img");a.classList.add("reel-symbol"),a.draggable=!1,this.strip.appendChild(a),this.imgElements.push(a)}this.currentSymbols=l(n),this.setSymbolsToSlots(n,0);for(var c=3;c<this.totalSlots;c++)this.setSymbolAt(c,s.random());this.isSpinning=!1,this.updateSizes(),window.addEventListener("resize",(function(){return o.updateSizes()}))},(e=[{key:"extraSymbols",get:function(){return 15*Math.floor(this.factor)}},{key:"factor",get:function(){return 1.2+Math.pow(this.idx/2,2)}},{key:"updateSizes",value:function(){var t=this.reelContainer.offsetHeight/3;this.imgElements.forEach((function(e){e.style.height="".concat(t,"px")}))}},{key:"setSymbolAt",value:function(t,e){if(t>=0&&t<this.imgElements.length){var r=this.imgElements[t],n=s.getImageSrc(e);r.src!==n&&(r.src=n),r.alt=e}}},{key:"setSymbolsToSlots",value:function(t,e){var r=this;t.forEach((function(t,n){r.setSymbolAt(e+n,t)}))}},{key:"prepareForSpin",value:function(t){this.strip.style.transition="none",this.strip.style.transform="translateY(0)",this.strip.offsetHeight;for(var e=3;e<this.totalSlots-3;e++)this.setSymbolAt(e,s.random());this.setSymbolsToSlots(t,this.totalSlots-3)}},{key:"spin",value:function(t){var e=this;return new Promise((function(r){if(e.isSpinning)r();else{e.isSpinning=!0,e.reelContainer.classList.add("spinning"),e.prepareForSpin(t);var n=e.reelContainer.offsetHeight/3,o=(e.totalSlots-3)*n;requestAnimationFrame((function(){var n=800*e.factor;e.strip.style.transition="transform ".concat(n,"ms cubic-bezier(0.15, 0.85, 0.35, 1.02)"),e.strip.style.transform="translateY(-".concat(o,"px)"),setTimeout((function(){e.isSpinning=!1,e.reelContainer.classList.remove("spinning"),e.strip.style.transition="none",e.strip.style.transform="translateY(0)";for(var n=0;n<3;n++)e.setSymbolAt(n,t[n]);e.currentSymbols=l(t),r()}),n)}))}}))}}])&&u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:e+""}var y=function(){return t=function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s.preload(),this.currentSymbols=[["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"]],this.nextSymbols=[["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"],["death_star","death_star","death_star"]],this.container=e,this.isSpinning=!1,this.reels=Array.from(this.container.getElementsByClassName("reel")).map((function(t,e){return new p(t,e,r.currentSymbols[e])})),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",(function(){return r.spin()})),this.autoPlayCheckbox=document.getElementById("autoplay"),n.inverted&&this.container.classList.add("inverted"),this.config=n},(e=[{key:"spin",value:function(){var t=this;return this.isSpinning?Promise.resolve():(this.isSpinning=!0,this.currentSymbols=this.nextSymbols,this.nextSymbols=[[s.random(),s.random(),s.random()],[s.random(),s.random(),s.random()],[s.random(),s.random(),s.random()],[s.random(),s.random(),s.random()],[s.random(),s.random(),s.random()]],this.onSpinStart(this.nextSymbols),Promise.all(this.reels.map((function(e){return e.spin(t.nextSymbols[e.idx])}))).then((function(){t.isSpinning=!1,t.onSpinEnd(t.nextSymbols)})))}},{key:"onSpinStart",value:function(t){var e,r;this.spinButton.disabled=!0,null===(e=(r=this.config).onSpinStart)||void 0===e||e.call(r,t)}},{key:"onSpinEnd",value:function(t){var e,r,n=this;if(this.spinButton.disabled=!1,null===(e=(r=this.config).onSpinEnd)||void 0===e||e.call(r,t),this.autoPlayCheckbox.checked)return window.setTimeout((function(){return n.spin()}),200)}}])&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),v={inverted:!1,onSpinStart:function(t){console.log("onSpinStart",t)},onSpinEnd:function(t){console.log("onSpinEnd",t)}};new y(document.getElementById("slot"),v)})()})();